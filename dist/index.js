!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-infinite-grid"]=e():t["vue-infinite-grid"]=e()}(window,function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/dist/",s(s.s=3)}([function(t,e){t.exports=class{constructor(t){this._originWidth=t.originWidth||0,this._originHeight=t.originHeight||0,this._width=t.width||0,this._height=t.height||0,this._left=t.left||0,this._top=t.top||0,this._item=t.item,this._innerItem=t.innerItem||[]}getOriginWidth(){return this._originWidth}setOriginWidth(t){this._originWidth=t}getOriginHeight(){return this._originHeight}setOriginHeight(t){this._originHeight=t}getWidth(){return this._width}setWidth(t){this._width=t}getHeight(){return this._height}setHeight(t){this._height=t}getLeft(){return this._left}setLeft(t){this._left=t}getTop(){return this._top}setTop(t){this._top=t}innerItem(){return this._innerItem}scaleTo(t,e){const s=0===this._width?0:t/this._width,i=0===this._height?0:e/this._height;this._innerItem.forEach(t=>{0!==s&&(t._left*=s,t._width*=s),0!==i&&(t._top*=i,t._height*=i)}),this._width=t,this._height=e}pushItem(t){this._innerItem.push(t)}getOriginSize(){return this._originWidth*this._originHeight}getSize(){return this._width*this._height}getOriginRatio(){return 0===this._originHeight?0:this._originWidth/this._originHeight}getRatio(){return 0===this._height?0:this._width/this._height}isSmallerThen(t){return this._width<=t._width&&this._height<=t._height}isEqual(t){return this._left===t._left&&this._top===t._top&&this._width===t._width&&this._height===t._height}}},function(t,e){!function(){var e={single_source_shortest_paths:function(t,e,i){var r={},n={};n[e]=0;var o,h,a,l,c,u,d=new s(function(t){return t.cost});for(d.push({value:e,cost:0});d.size();)for(var _ in h=(o=d.pop()).value,a=o.cost,l=t(h)||{})c=a+l[_],u=n[_],(void 0===n[_]||u>c)&&(n[_]=c,d.push({value:_,cost:c}),r[_]=h);if(void 0===n[i]){var g=["Could not find a path from ",e," to ",i,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var s=[],i=e;i;)s.push(i),t[i],i=t[i];return s.reverse(),s},find_path:function(t,s,i){var r=e.single_source_shortest_paths(t,s,i);return e.extract_shortest_path_from_predecessor_list(r,i)}};function s(t){this.content=[],this.scoreFunction=t}s.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},remove:function(t){for(var e=this.content.length,s=0;s<e;s++)if(this.content[s]===t){var i=this.content.pop();return void(s!==e-1&&(this.content[s]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.bubbleUp(s):this.sinkDown(s)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(t){for(var e=this.content[t];t>0;){var s=Math.floor((t+1)/2)-1,i=this.content[s];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[s]=e,this.content[t]=i,t=s}},sinkDown:function(t){for(var e=this.content.length,s=this.content[t],i=this.scoreFunction(s);;){var r=2*(t+1),n=r-1,o=null;if(n<e){var h=this.content[n],a=this.scoreFunction(h);a<i&&(o=n)}if(r<e){var l=this.content[r];this.scoreFunction(l)<(null==o?i:a)&&(o=r)}if(null===o)break;this.content[t]=this.content[o],this.content[o]=s,t=o}}},void 0!==t&&t.exports?t.exports=e:window.dijkstra=e}()},function(t,e,s){
/*!
 * Copyright (c) 2017 NAVER Corp.
 * @egjs/component project is licensed under the MIT license
 * 
 * @egjs/component JavaScript library
 * http://naver.github.io/egjs/component
 * 
 * @version 2.1.0
 */
var i;i=function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";var i,r=s(1),n=(i=r)&&i.__esModule?i:{default:i};n.default.VERSION="2.1.0",t.exports=n.default},function(t,e,s){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._eventHandler={},this.options={}}return t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this._eventHandler[t]||[];if(!(s.length>0))return!0;s=s.concat(),e.eventType=t;var i=!1,r=[e],n=0;e.stop=function(){i=!0},e.currentTarget=this;for(var o=arguments.length,h=Array(o>2?o-2:0),a=2;a<o;a++)h[a-2]=arguments[a];for(h.length>=1&&(r=r.concat(h)),n=0;s[n];n++)s[n].apply(this,r);return!i},t.prototype.once=function(t,e){if("object"===(void 0===t?"undefined":i(t))&&void 0===e){var s=t,r=void 0;for(r in s)this.once(r,s[r]);return this}if("string"==typeof t&&"function"==typeof e){var n=this;this.on(t,function s(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];e.apply(n,r),n.off(t,s)})}return this},t.prototype.hasOn=function(t){return!!this._eventHandler[t]},t.prototype.on=function(t,e){if("object"===(void 0===t?"undefined":i(t))&&void 0===e){var s=t,r=void 0;for(r in s)this.on(r,s[r]);return this}if("string"==typeof t&&"function"==typeof e){var n=this._eventHandler[t];void 0===n&&(this._eventHandler[t]=[],n=this._eventHandler[t]),n.push(e)}return this},t.prototype.off=function(t,e){if(void 0===t)return this._eventHandler={},this;if(void 0===e){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var s=t,i=void 0;for(i in s)this.off(i,s[i]);return this}var r=this._eventHandler[t];if(r){var n=void 0,o=void 0;for(n=0;void 0!==(o=r[n]);n++)if(o===e){r=r.splice(n,1);break}}return this},t}();e.default=r,t.exports=e.default}])},t.exports=i()},function(t,e,s){"use strict";s.r(e);var i=s(2),r=s.n(i);const n=window,o=n.document,h=n.navigator.userAgent,a=!!("getComputedStyle"in n),l=!!("addEventListener"in document),c=(()=>{let t=!1;try{l&&Object.defineProperty&&document.addEventListener("test",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(t){}return t})(),u=/MSIE|Trident|Windows Phone|Edge/.test(h),d=/iPhone|iPad/.test(h),_=/Android 2\./.test(h),g="_eg-infinitegrid-container_",p="_eg-infinitegrid-ignore_",f=!0,m=!1,y="vertical",z="horizontal",v=!0,S=!1,w=!0,b=!1,E=!0,I=-1e5,C="data-groupkey",O={horizontal:!1,margin:0},x=h.toLowerCase(),L=(/mobi|ios|android/.test(x),0),P=1,T=2,V=4,M=/applewebkit\/([\d|.]*)/g.exec(x),j=M&&parseInt(M[1],10)||0,k=j&&j<537;function A(t){const e=[];if(t)for(let s=0,i=t.length;s<i;s++)e.push(t[s]);return e}function H(t){return t.match(/^<([A-z]+)\s*([^>]*)>/)}function $(t,e=!1){let s;if("string"==typeof t){if(H(t)){const e=o.createElement("div");e.innerHTML=t,s=e.childNodes}else s=o.querySelectorAll(t);s=e?A(s):s&&s.length>0&&s[0]||void 0}else t===n?s=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in n&&t instanceof n.jQuery||t.constructor.prototype.jquery?s=e?t.toArray():t.get(0):Array.isArray(t)&&(s=t.map(t=>$(t)),e||(s=s.length>=1?s[0]:void 0)):s=t;return s}function R(t,e,s,i){if(l){let r=i||!1;"object"==typeof i&&(r=!!c&&i),t.addEventListener(e,s,r)}else t.attachEvent?t.attachEvent(`on${e}`,s):t[`on${e}`]=s}function W(t,e,s){t.removeEventListener?t.removeEventListener(e,s,!1):t.detachEvent?t.detachEvent(`on${e}`,s):t[`on${e}`]=null}function F(t){return a?n.getComputedStyle(t):t.currentStyle}function N(t,e){if(t===n)return t.document.documentElement[`client${e}`];if(9===t.nodeType){const s=t.documentElement;return Math.max(t.body[`scroll${e}`],s[`scroll${e}`],t.body[`offset${e}`],s[`offset${e}`],s[`client${e}`])}{const s=F(t),i=s[e.toLowerCase()];return parseFloat(/auto|%/.test(i)?t[`offset${e}`]:s[e.toLowerCase()])}}function B(t){return N(t,"Width")}function q(t){return N(t,"Height")}const K={vertical:{pos1:"top",endPos1:"bottom",size1:"height",pos2:"left",endPos2:"right",size2:"width"},horizontal:{pos1:"left",endPos1:"right",size1:"width",pos2:"top",endPos2:"bottom",size2:"height"}};function X(t){return K[t?z:y]}function D(t,e){return Object.assign({},O,t,e)}function U(t,e){for(let s=t.length-1;s>=0;--s)t[s]=e;return t}class Y{static renderItem(t,e){if(t.el){const s=t.el.style;t.el.setAttribute(C,t.groupKey),s.position="absolute",["left","top","width","height"].forEach(t=>{t in e&&(s[t]=`${e[t]}px`)})}}static renderItems(t){t.forEach(t=>{Y.renderItem(t,t.rect)})}static removeItems(t){t.forEach(t=>{t.el&&(Y.removeElement(t.el),t.el=null)})}static removeElement(t){t.parentNode.removeChild(t)}static createElements(t){const e=$(t.reduce((t,e,s)=>(t.push(e.content.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")),t),[]).join(""),E);return t.map((t,s)=>(t.el=e[s],t))}constructor(t,e){Object.assign(this.options={isOverflowScroll:!1,isEqualSize:!1,isVertical:!0},e),this._size={containerOffset:0,container:-1,view:-1,item:null},this._init(t),this.resize()}getStatus(){return{cssText:this.container.style.cssText,options:Object.assign({},this.options),_size:Object.assign({},this._size)}}setStatus(t,e){this.container.style.cssText=t.cssText,Object.assign(this.options,t.options),Object.assign(this._size,t._size),Y.renderItems(e),this._insert(e,f)}updateSize(t){return t.map(t=>(t.el&&(this.options.isEqualSize?(this._size.item=this._size.item||{width:B(t.el),height:q(t.el)},t.size=Object.assign({},this._size.item)):t.size={width:B(t.el),height:q(t.el)},t.orgSize||(t.orgSize=Object.assign({},t.size))),t))}_init(t){const e=$(t),s=F(e);if(this._orgStyle={},"static"===s.position&&(this._orgStyle.position=e.style.position,e.style.position="relative"),this.options.isOverflowScroll){const t=this.options.isVertical?["Y","X"]:["X","Y"];this._orgStyle.overflowX=e.style.overflowX,this._orgStyle.overflowY=e.style.overflowY,e.style[`overflow${t[0]}`]="scroll",e.style[`overflow${t[1]}`]="hidden",this.view=e,this.container=!this.options.isVertical&&k?function(t){const e=document.createElement("div");e.className=g,e.style.position="relative",e.style.height="100%";const s=t.children,i=s.length;for(let t=0;t<i;t++)e.appendChild(s[0]);return t.appendChild(e),e}(e):e}else this.view=window,this.container=e}append(t){this._insert(t,f,{top:I,left:I})}prepend(t){this._insert(t,m,{top:I,left:I})}clear(){this.container.innerHTML="",this.options.isOverflowScroll||(this.container.style[this.options.isVertical?"height":"width"]=""),this._size={item:null,containerOffset:0,viewport:-1,container:-1,view:-1}}createAndInsert(t,e){const s=Y.createElements(t);Y.renderItems(s),this._insert(s,e)}_insert(t,e,s){const i=document.createDocumentFragment();t.forEach(t=>{s&&Y.renderItem(t,s),e?i.appendChild(t.el):i.insertBefore(t.el,i.firstChild)}),e?this.container.appendChild(i):this.container.insertBefore(i,this.container.firstChild)}_calcSize(){return this.options.isVertical?B(this.container):q(this.container)}getViewSize(){return this._size.view}scrollBy(t){const e=this.options.isVertical?[0,t]:[t,0];!function(t,e,s){t===n?t.scrollBy(e,s):(t.scrollLeft+=e,t.scrollTop+=s)}(this.view,...e)}getContainerOffset(){return this._size.containerOffset}getViewportSize(){return this.resize(),this._size.viewport}setContainerSize(t){(!this.options.isOverflowScroll||!this.options.isVertical&&k)&&(this.container.style[this.options.isVertical?"height":"width"]=`${t}px`)}resize(){const t=this.options.isVertical;return this.isNeededResize()?(this._size={containerOffset:this.options.isOverflowScroll?0:this.container[`offset${t?"Top":"Left"}`],viewport:this._calcSize(),view:t?q(this.view):B(this.view),item:null},!0):(this._size.view=t?q(this.view):B(this.view),!1)}isNeededResize(){return this._calcSize()!==this._size.viewport}destroy(){this._size={containerOffset:0,viewport:-1,view:-1,item:null},this.container.style[this.options.isVertical?"height":"width"]="";for(const t in this._orgStyle)this[this.options.isOverflowScroll?"view":"container"].style[t]=this._orgStyle[t]}}class G{static from(t,e,{groupKey:s,isAppend:i}){return A(G.selectItems($(t,E),e)).map(t=>({el:t,groupKey:s,content:t.outerHTML}))}static selectItems(t,e="*"){return t.filter(t=>{const s=t.className.split(" ");return!s.some(t=>t===p)&&(e&&"*"!==e?s.some(t=>t===e):t)})}static pluck(t,e){return t.reduce((t,s)=>t.concat(s[e]),[])}constructor(){this.clear()}getStatus(){return{_data:this._data.map(t=>{const e=t.items.map(t=>{const e=Object.assign({},t);return delete e.el,e}),s=Object.assign({},t);return s.items=e,s})}}setStatus(t,e,s){const i=t._data;for(let t=e;t<=s;t++)i[t].items=Y.createElements(i[t].items);this.set(i)}size(){return this._data.length}fit(t,e){if(!this._data.length)return;const s=e?"top":"left";0!==t&&(this._data=this._data.map(e=>(e.items=e.items.map(e=>(e.rect[s]-=t,e)),e.outlines.start=e.outlines.start.map(e=>e-t),e.outlines.end=e.outlines.end.map(e=>e-t),e)))}pluck(t,e,s){return void 0!==e?void 0!==s?G.pluck(this._data.slice(e,s+1),t):G.pluck(this._data.slice(e,e+1),t):G.pluck(this._data,t)}getOutline(t,e){return this._data.length?this._data[t].outlines[e]:[]}getEdgeIndex(t,e,s){const i="start"===t?"min":"max";let r=-1,n="start"===t?1/0:-1/0;for(let o=e;o<=s;o++){const e=Math[i](...this.getOutline(o,t));("start"===t&&n>e||"end"===t&&n<e)&&(n=e,r=o)}return r}getEdge(t,e,s){const i=this.getEdgeIndex(t,e,s),r=this.pluck("items",i);if(r.length){const e=this.getOutline(i,`${t}Index`);return r.length>e?r[e]:null}return null}getEdgeValue(t,e,s){const i=this.pluck("outlines",this.getEdgeIndex(t,e,s)).reduce((e,s)=>e.concat(s[t]),[]);return i.length?Math["start"===t?"min":"max"](...i):0}append(t){return this._data.push(t),t.items}prepend(t){return this._data.unshift(t),t.items}clear(){this._data=[]}remove(t,e,s){let i=null;const r=t.getAttribute(C);let n=this.get(e,s).filter(t=>String(t.groupKey)===r);if(!n.length)return i;const o=(n=n[0]).items.length;let h=-1;for(let e=0;e<o;e++)if(n.items[e].el===t){h=e;break}return~h&&(n.items.splice(h,1),this.set(n,r),i=n.items),i}get(t,e){return void 0!==t?void 0!==e?this._data.slice(t,e+1):this._data.slice(t,t+1):this._data.concat()}set(t,e){if(void 0===e||Array.isArray(t))this._data=t.concat();else{const s=this._data.length;let i=-1;for(let t=0;t<s;t++)if(this._data[t].groupKey===e){i=t;break}~i&&(this._data[i]=t)}}}const J=[];function Q(t){Z.resizeAll()}class Z{static add(t,e="data-"){t.length||R(n,"resize",Q),t.__PREFIX__=e,J.push(t),Z.resize(t)}static remove(t,e=!1){const s=t.getAttribute(`${t.__PREFIX__}fixed`)||"width";e||(t.style["width"===s?"height":"width"]="");const i=J.indexOf(t);~i&&(J.splice(i,1),J.length||W(n,"reisze",Q))}static resize(t,e="data-"){const s="string"==typeof t.__PREFIX__?t.__PREFIX__:e,i=t.getAttribute(`${s}width`),r=t.getAttribute(`${s}height`),n=t.getAttribute(`${s}fixed`)||"width";if("width"===n){const e=B(t)||i;t.style.height=`${r/i*e}px`}else if("height"===n){const e=q(t)||r;t.style.width=`${i/r*e}px`}}static resizeAll(){J.forEach(t=>Z.resize(t))}}const tt=1,et=2,st=[];function it(t,e){return!!t.getAttribute(`${e}width`)}var rt=class{static waitImageLoaded(t,{prefix:e,length:s,type:i,complete:r,error:n,end:o}){let h=0,a=s||t.reduce((t,e)=>t+e.length,0);i!==et&&(h=a);const l=function(){0==--a&&o&&o()},c=function(){0==--h&&r&&r()},d=function(t){n&&n({target:t,itemIndex:t.__ITEM_INDEX__})},_=function(t){const s=t.target||t.srcElement;W(s,"error",_),W(s,"load",_),i===tt&&it(s,e)?Z.remove(s,"error"===t.type):c(),"error"===t.type&&(st.push(s.src),d(s)),delete s.__ITEM_INDEX__,l()};t.forEach((t,s)=>{t.forEach(t=>{if(t.complete)return-1!==st.indexOf(t.src)&&d(t),c(),void l();t.__ITEM_INDEX__=s,i===tt&&it(t,e)&&(Z.add(t,e),c()),R(t,"load",_),R(t,"error",_),u&&t.setAttribute("src",t.getAttribute("src"))})})}static checkImageLoaded(t){return"IMG"===t.tagName?t.complete?[]:[t]:A(t.querySelectorAll("img"))}static check(t,{prefix:e,type:s=tt,complete:i,error:r,end:n}){const o=t.map(t=>this.checkImageLoaded(t)),h=o.reduce((t,e)=>t+e.length,0);s!==et&&0!==h||setTimeout(()=>{i&&i(),0===h&&n&&n()},0),h>0&&this.waitImageLoaded(o,{prefix:e,length:h,type:s,complete:i,error:r,end:n})}};class nt{constructor(t,e){Object.assign(this._callback={layout:null,check:null},e),this._timer={resize:null},this.reset(),this._renderer=t,this._onCheck=this._onCheck.bind(this),this._onResize=this._onResize.bind(this),this.attachEvent(),this.setScrollPos()}getStatus(){return{_prevPos:this._prevPos,scrollPos:this.getOrgScrollPos()}}setStatus(t,e=!0){this._prevPos=t._prevPos,e&&this.scrollTo(t.scrollPos)}scrollTo(t){const e=this._renderer.options.isVertical?[0,t]:[t,0];!function(t,e,s){t===n?t.scroll(e,s):(t.scrollLeft=e,t.scrollTop=s)}(this._renderer.view,...e)}getScrollPos(){return this._prevPos}setScrollPos(t){let e=t;void 0===t&&(e=this.getOrgScrollPos()),this._prevPos=e-this._renderer.getContainerOffset()}attachEvent(){R(this._renderer.view,"scroll",this._onCheck),R(window,"resize",this._onResize)}getOrgScrollPos(){return function(t,e){const s=`scroll${e?"Top":"Left"}`;return t===n?n[e?"pageYOffset":"pageXOffset"]||o.body[s]||o.documentElement[s]:t[s]}(this._renderer.view,this._renderer.options.isVertical)}reset(){this._prevPos=null}_onCheck(){const t=this.getScrollPos(),e=this.getOrgScrollPos();this.setScrollPos(e);const s=this.getScrollPos();null===t||d&&0===e||t===s||this._callback.check&&this._callback.check({isForward:t<s,scrollPos:s,orgScrollPos:e,horizontal:!this._renderer.options.isVertical})}_onResize(){this._timer.resize&&clearTimeout(this._timer.resize),this._timer.resize=setTimeout(()=>{this._renderer.isNeededResize()&&this._callback.layout&&this._callback.layout(),this._timer.resize=null,this.reset()},100)}detachEvent(){W(window,"resize",this._onResize)}destroy(){this.detachEvent(),this.reset()}}function ot(...t){return t.every(t=>~t[0].indexOf(t[1]))}"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");function s(){}return s.prototype=t,new s});class ht extends r.a{constructor(t,e){super(),Object.assign(this.options={itemSelector:"*",isOverflowScroll:!1,threshold:100,isEqualSize:!1,useRecycle:!0,horizontal:!1,attributePrefix:"data-"},e),_&&(this.options.isOverflowScroll=!1),this._isVertical=!this.options.horizontal,this._reset(),this._items=new G,this._renderer=new Y(t,{isOverflowScroll:this.options.isOverflowScroll,isEqualSize:this.options.isEqualSize,isVertical:this._isVertical}),this._loadingBar={},this._watcher=new nt(this._renderer,{layout:()=>this.layout(),check:t=>this._onCheck(t)})}append(t,e){return this._layout&&this._insert(t,f,e),this}prepend(t,e){return this._layout&&this._insert(t,m,e),this}setLayout(t,e){return"function"==typeof t?this._layout=new t(Object.assign(e||{},{horizontal:!this._isVertical})):(this._layout=t,this._layout.options.horizontal=!this._isVertical),this._layout.setSize(this._renderer.getViewportSize()),this}getItems(t=!1){return this[t?"_getItems":"_getVisibleItems"]()}_getItems(){return this._items.pluck("items",0,this._items.size())}_getVisibleItems(){return this._items.pluck("items",this._status.startCursor,this._status.endCursor)}_updateEdge(){this._status.start=this._items.getEdge("start",this._status.startCursor,this._status.endCursor),this._status.end=this._items.getEdge("end",this._status.startCursor,this._status.endCursor)}_getEdgeOffset(t){let e=null;if(!this._status[t]){const e=this._items.getEdge(t);this._status[t]=e}return this._status[t]&&(e=this._status[t].rect,"start"===t&&(e.bottom=e.top+this._status[t].size.height,e.right=e.left+this._status[t].size.width)),e}_fit(t="after"){if(!this._layout)return 0;const e=this._getEdgeValue("start"),s=this._getLoadingStatus()===T&&this._status.loadingSize||0;if(!this.options.useRecycle||k)return"before"===t&&s&&e<s?(this._renderer.scrollBy(-Math.abs(e)+s),this._watcher.setScrollPos(),this._items.fit(e-s,this._isVertical),Y.renderItems(this._getVisibleItems()),this._renderer.setContainerSize(this._getEdgeValue("end")||s)):"after"===t&&e<0&&(this._items.fit(e-s,this._isVertical),this._renderer.setContainerSize(this._getEdgeValue("end")||s),Y.renderItems(this._getVisibleItems()),this._renderer.scrollBy(Math.abs(e)),this._watcher.setScrollPos()),0;if(0!==e||s){const i=this._isProcessing();this._process(V),"before"===t&&(this._renderer.scrollBy(-Math.abs(e)+s),this._watcher.setScrollPos()),this._items.fit(e-s,this._isVertical),Y.renderItems(this._getVisibleItems()),this._renderer.setContainerSize(this._getEdgeValue("end")||s),"after"===t&&(this._renderer.scrollBy(Math.abs(e)+s),this._watcher.setScrollPos()),i||this._process(V,!1)}return e}_getEdgeValue(t){return this._items.getEdgeValue(t,this._status.startCursor,this._status.endCursor)}layout(t=!0){if(!this._layout)return this;if(!this._items.size())return this._insert(A(this._renderer.container.children),!0),this;let e,s;return t?(this.options.isEqualSize?(this._renderer.updateSize([this._status.start]),e=this._items.get(0,this._status.endCursor),s=this._items.getOutline(0,"start")):e=this._items.get(this._status.startCursor,this._status.endCursor),this._renderer.resize()&&(this._layout.setSize(this._renderer.getViewportSize()),e.forEach(t=>{e.items=this._renderer.updateSize(t.items)}))):(e=this._items.get(this._status.startCursor,this._items.size()),s=this._items.getOutline(this._status.startCursor,"start")),e.length?(this._layout.layout(e,s),t?this.options.isEqualSize?this._fit("after"):this._items._data.forEach((t,e)=>{this._status.startCursor<=e&&e<=this._status.endCursor||(t.outlines.start=[],t.outlines.end=[])}):e.forEach(t=>this._items.set(t,t.groupKey)),this._onLayoutComplete(e,f,b,!1,!0),Y.renderItems(this._getVisibleItems()),t&&this._watcher.setScrollPos(),this):this}remove(t){if(t){const e=this._items.remove(t,this._status.startCursor,this._status.endCursor);if(e)return Y.removeElement(t),e}return null}_getNextItems(t){let e=[];const s=this._items.size();return s>0&&-1!==this._status.startCursor&&-1!==this._status.endCursor&&(t&&s>this._status.endCursor+1?e=this._items.pluck("items",this._status.endCursor+1):!t&&this._status.startCursor>0&&(e=this._items.pluck("items",this._status.startCursor-1))),e}getGroupKeys(t){return(t?this._items.get():this._items.get(this._status.startCursor,this._status.endCursor)).map(t=>t.groupKey)}getStatus(){return{options:Object.assign({},this.options),_status:Object.assign({},this._status),_items:this._items.getStatus(),_renderer:this._renderer.getStatus(),_watcher:this._watcher.getStatus()}}setStatus(t,e=!0){return t&&t.options&&t._status&&t._renderer&&t._items&&t._watcher?(this._watcher.detachEvent(),Object.assign(this.options,t.options),Object.assign(this._status,t._status),this._items.setStatus(t._items,this._status.startCursor,this._status.endCursor),this._renderer.setStatus(t._renderer,this._getVisibleItems()),this._watcher.setStatus(t._watcher,e),this._updateEdge(),this._watcher.attachEvent(),this):this}clear(){return this._items.clear(),this._renderer.clear(),this._reset(),this._appendLoadingBar(),this}setLoadingBar(t={}){const e="object"==typeof t?t:{append:t,prepend:t};this._status.loadingSize=0,this._status.loadingStyle={};const s=this._loadingBar;for(const t in e)s[t]=$(e[t]),s[t].className+=` ${p}`;return this._appendLoadingBar(),this}_appendLoadingBar(){const t=this._loadingBar,e=this._renderer.container;for(const s in t)e.appendChild(t[s])}isProcessing(){return this._isProcessing()||this._isLoading()}_isProcessing(){return(this._status.processingStatus&V)>0}_isLoading(){return this._getLoadingStatus()>0}_getLoadingStatus(){return this._status.processingStatus&(P|T)}_process(t,e=!0){e?this._status.processingStatus|=t:this._status.processingStatus-=this._status.processingStatus&t}_insert(t,e,s){if(this._isProcessing()||0===t.length)return;const i=void 0===s?(new Date).getTime()+Math.floor(1e3*Math.random()):s,r=G.from($(t,!0),this.options.itemSelector,{isAppend:e,groupKey:i});r.length&&this._postLayout(S,r,e,b)}_recycle(t){const e=[];if(this._status.startCursor!==this._status.endCursor)for(let t=this._status.startCursor;t<=this._status.endCursor;t++)e.push(this._isVisible(t));let s=e.indexOf(t?1:-1),i=e.lastIndexOf(t?1:-1);-1!==e.indexOf(0)&&-1!==s&&-1!==i&&(s=this._status.startCursor+(t?0:s),i=t?this._status.startCursor+i:this._status.endCursor,Y.removeItems(this._items.pluck("items",s,i)),t?this._status.startCursor=i+1:this._status.endCursor=s-1)}getLoadingBar(t=this._getLoadingStatus()!==T){return this._loadingBar[t?"append":"prepend"]}startLoading(t,e={display:"block"}){if(this._isLoading())return this;const s=t?"append":"prepend";return this._process(t?P:T),this._loadingBar[s]?(this._renderLoading(e),this._status.loadingStyle=e,t?this._renderer.setContainerSize(this._getEdgeValue("end")+this._status.loadingSize):this._fit("before"),this):this}_renderLoading(t=this._status.loadingStyle){if(!this._isLoading())return;const e=this._getLoadingStatus()===P,s=this._loadingBar[e?"append":"prepend"];if(!s)return;this._status.loadingSize=this._isVertical?q(s):B(s);const i=e?this._getEdgeValue("end"):this._getEdgeValue("start")-this._status.loadingSize,r=Object.assign({position:"absolute",[this._isVertical?"top":"left"]:`${i}px`},t);for(const t in r)s.style[t]=r[t]}endLoading(t={display:"none"}){if(!this._isLoading())return this;const e=this._getLoadingStatus()===P,s=e?"append":"prepend",i=this._loadingBar[s],r=this._status.loadingSize;if(this._process(P|T,!1),this._status.loadingSize=0,this._status.loadingStyle={},!i)return this;const n=Object.assign({[this._isVertical?"top":"left"]:`${-r}px`},t);for(const t in n)i.style[t]=n[t];return e||!this.options.useRecycle||k||(this._renderer.scrollBy(-r),this._watcher.setScrollPos(),this._items.fit(r,this._isVertical),Y.renderItems(this._getVisibleItems()),this._renderer.setContainerSize(this._getEdgeValue("end"))),this._renderer.setContainerSize(this._getEdgeValue("end")),this}_postImageLoaded(t,e,s,i){t?this._setItems(e):this._insertItems(e,s),this._updateCursor(s),Y.renderItems(e.items),this._onLayoutComplete(e.items,s,i,!1)}_onImageError(t,e,s,i,r){const n=e.el,o=this.options.attributePrefix;e.content=n.outerHTML;const h=()=>{if(ot([i,n]))return;i.push(n);const t=r.indexOf(s);-1!==t&&r.splice(t,1)};this.trigger("imageError",{target:t,element:n,item:e,itemIndex:s,removeItem:h,remove:()=>{t!==n?ot([i,n])||(t.parentNode.removeChild(t),e.content=n.outerHTML,ot([r,s])||r.push(s)):h()},replace:h=>{if(!ot([i,n])){if(h)if(H(h)||"object"==typeof h){const s=t.parentNode;s.insertBefore($(h),t),s.removeChild(t),e.content=n.outerHTML}else t.src=h,t.getAttribute(`${o}width`)&&(Z.remove(t),t.removeAttribute(`${o}width`),t.removeAttribute(`${o}height`));e.content=n.outerHTML,ot([r,s])||r.push(s)}},replaceItem:t=>{ot([i,n],[r,s])||(n.innerHTML=t,e.content=n.outerHTML,r.push(s))}})}_postImageLoadedEnd(t,e,s,i){if(!s.length&&!i.length)return void(!this.isProcessing()&&this.options.useRecycle&&this._recycle(e));const r=this.options.attributePrefix,n=i.map(e=>t.items[e]);s.forEach(t=>{this.remove(t)}),this.options.isEqualSize?s.length>0?this.layout(!1):!this.isProcessing()&&this.options.useRecycle&&this._recycle(e):rt.check(n.map(t=>t.el),{prefix:r,complete:()=>{this._renderer.updateSize(n),this.layout(!1)}})}_postLayout(t,e,s,i){const{startCursor:r,endCursor:n}=this._status,o=this._items.getOutline(s?n:r,s?"end":"start");let h=!1;if(t){const t=this._items.getOutline(s?n+1:r-1,s?"start":"end");if(!(h=o.length!==t.length||!o.every((e,s)=>e===t[s])))return this._renderer.createAndInsert(e,s),this._updateCursor(s),this._onLayoutComplete(e,s,i),this}this._process(V);const a=s?"append":"prepend";t&&Y.createElements(e),this._renderer[a](e);const l=this.options.isEqualSize&&this._renderer._size.item?et:tt,c=this.options.attributePrefix,u=[],d=[];let _;return rt.check(e.map(t=>t.el),{prefix:c,type:l,complete:()=>{_=this._layout[a](this._renderer.updateSize(e),this._items.getOutline(s?n:r,s?"end":"start")),this._postImageLoaded(t,_,s,i)},error:({target:t,itemIndex:s})=>{const i=(_&&_.items||e)[s];this._onImageError(t,i,s,d,u)},end:()=>{this._postImageLoadedEnd(_,s,d,u)}}),this}_isVisible(t){const e=Math.min(...this._items.getOutline(t,"start")),s=Math.max(...this._items.getOutline(t,"end")),i=this._watcher.getScrollPos();return i+this._renderer.getViewSize()+this.options.threshold<e?-1:i-this.options.threshold>s?1:0}_updateCursor(t){this.options.useRecycle?(t?this._status.endCursor++:this._status.startCursor>0?this._status.startCursor--:this._status.endCursor++,this._status.startCursor<0&&(this._status.startCursor=0)):(this._status.startCursor=0,this._status.endCursor=this._items.size()-1)}_setItems(t,e=t.items&&t.items[0].groupKey||0){t.groupKey=e,this._items.set(t,e)}_insertItems(t,e){t.groupKey=t.items[0].groupKey,this._items[e?"append":"prepend"](t)}_requestAppend(){const t=this._getNextItems(f);this._isProcessing()||(t.length?this._postLayout(v,t,f,w):this.trigger("append",{isTrusted:!0,groupKey:this.getGroupKeys().pop()}))}_requestPrepend(){const t=this._getNextItems(m);this._isProcessing()||(t.length?this._postLayout(v,t,m,w):this.trigger("prepend",{isTrusted:!0,groupKey:this.getGroupKeys().shift()}))}_onCheck({isForward:t,scrollPos:e,horizontal:s,orgScrollPos:i}){this.trigger("change",{isForward:t,horizontal:s,scrollPos:e,orgScrollPos:i});const r=this._getEdgeOffset(t?"end":"start"),n=this.isProcessing();if(!r)return;const o=this.options.threshold,h=t?r[s?"left":"top"]-this._renderer.getViewSize():r[s?"right":"bottom"];!n&&t?e+o>=h&&this._requestAppend():e<=h+o&&(this._fit("before"),this._requestPrepend())}_onLayoutComplete(t,e,s=!1,i=this.options.useRecycle,r=!1){this._isLoading()&&this._renderLoading(),!e&&this._fit("after"),i&&this._recycle(e);const n=this._getEdgeValue("end");this._updateEdge(),e&&this._renderer.setContainerSize(n+this._status.loadingSize||0),!r&&this._process(V,!1);const o=this._watcher.getScrollPos(),h=this._renderer.getViewSize();if(this.trigger("layoutComplete",{target:t.concat(),isAppend:e,isTrusted:s,isScroll:h<this._renderer.getContainerOffset()+n,scrollPos:o,orgScrollPos:this._watcher.getOrgScrollPos(),size:n}),r)return;const a=this.options.threshold;e&&Math.abs(n-h-o)<=a?this._requestAppend():!e&&o<=this._getEdgeValue("start")+a&&(this._fit("before"),this._requestPrepend())}_reset(){this._status={processingStatus:L,loadingSize:0,startCursor:-1,endCursor:-1,start:null,end:null}}destroy(){this.off(),this._watcher.destroy(),this._reset(),this._items.clear(),this._renderer.destroy()}}ht.VERSION="#__VERSION__#";var at=ht;const{START:lt,CENTER:ct,END:ut,JUSTIFY:dt}={START:"start",CENTER:"center",END:"end",JUSTIFY:"justify"};var _t=class{constructor(t={}){this.options=D({align:lt,itemSize:0},t),this._size=0,this._columnSize=0,this._columnLength=0,this._style=X(this.options.horizontal)}getPoints(t){const e=this.options.horizontal?"left":"top";return t.map(t=>t[e])}checkColumn(t){const e=this.options.margin,s=this.options.horizontal?"height":"width",i=this.options.itemSize||t&&t.size[s]||0;this._columnSize=i,this._columnLength=i?Math.max(parseInt((this._size+e)/(i+e),10),1):1}_layout(t,e,s){const i=t.length,r=this.options.margin,n=this.options.align,o=this._style,h=o.size1,a=o.size2,l=o.pos1,c=o.pos2,u=this._columnSize,d=this._columnLength,_=this._size,g=_-(u+r)*d+r,p=s?"min":"max",f=e.slice(),m=e.slice();let y=-1,z=-1;for(let e=0;e<i;++e){const o=Math[p](...m)||0;let f=m.indexOf(o);const v=t[s?e:i-1-e],S=v.size[h],w=v.size[a],b=s?o:o-r-S,E=b+S+r;-1===f&&(f=0);let I=(u+r)*f;n===ct?I+=g/2:n===ut?I+=g+u-w:n===dt&&(d<=1?I+=g/2:I=(_-u)/(d-1)*f),v.rect={[l]:b,[c]:I},v.column=f,m[f]=s?E:b,-1===y?(y=e,z=E):z<E&&(y=e,z=E)}return s||(t.sort((t,e)=>{const s=t.rect[l],i=t.rect[c],r=e.rect[l],n=e.rect[c];return s-r?s-r:i-n}),y=i-1),{start:s?f:m,end:s?m:f,startIndex:0,endIndex:y}}_insert(t=[],e=[],s){const i=t.map(t=>Object.assign({},t));let r=e;return this._columnLength||this.checkColumn(t[0]),e.length!==this._columnLength&&(r=U(new Array(this._columnLength),0===e.length?0:Math[s===f?"min":"max"](...e)||0)),{items:i,outlines:this._layout(i,r,s)}}append(t,e){return this._insert(t,e,f)}prepend(t,e){return this._insert(t,e,m)}layout(t=[],e=[]){const s=t.length&&t[0].items.length&&t[0].items[0]||0;let i;if(this.checkColumn(s),e.length!==this._columnLength){const t=0===e.length?0:Math.min(...e);i=U(new Array(this._columnLength),t)}else i=e.slice();return t.forEach(t=>{const e=t.items,s=this._layout(e,i,f);t.outlines=s,i=s.end}),this}setSize(t){return this._size=t,this}};function gt(t,e,s,i,r,n){const o={left:i,top:s,type:e,width:1,height:1};for(let n=i;n<r&&t[s][n]===e;++n)o.width=n-i+1;for(let r=s;r<n&&t[r][i]===e;++r)o.height=r-s+1;return function(t,e,s,i,r,n){for(let o=i;o<i+n;++o)for(let i=s;i<s+r;++i)e===t[o][i]&&(t[o][i]=0)}(t,e,i,s,o.width,o.height),o}var pt=class{constructor(t={}){this.options=D({itemSize:0,frame:[],frameFill:!0},t);const e=function(t){const e=t.length,s=e?t[0].length:0,i=[];for(let r=0;r<e;++r)for(let n=0;n<s;++n){const o=t[r][n];o&&i.push(gt(t,o,r,n,s,e))}return i.sort((t,e)=>t.type<e.type?-1:1),{shapes:i,width:s,height:e}}(this.options.frame.map(t=>t.slice()));this._itemSize=this.options.itemSize||0,this._shapes=e,this._size=0,this._style=X(this.options.horizontal)}_getItemSize(){return this._checkItemSize(),this._itemSize}_checkItemSize(){if(this.options.itemSize)return void(this._itemSize=this.options.itemSize);const t=this._style.size2,e=this.options.margin;this._itemSize=(this._size+e)/this._shapes[t]-e}_layout(t,e=[],s){const i=t.length,r=this._style,{margin:n,frameFill:o}=this.options,h=r.size1,a=r.size2,l=r.pos1,c=r.pos2,u=this._getItemSize(),d="object"==typeof u,_=d?u[a]:u,g=d?u[h]:u,p=this._shapes[a],f=this._shapes.shapes,m=f.length,y=U(new Array(p),I),z=U(new Array(p),I);let v=0,S=0,w=-1,b=-1,E=-1,C=-1;if(!m)return{start:e,end:e,startIndex:w,endIndex:b};for(let e=0;e<i;e+=m){for(let s=0;s<m&&e+s<i;++s){const i=t[e+s],r=f[s],o=r[l],u=r[c],d=r[h],m=r[a],O=S-v+o*(g+n),x=u*(_+n),L=d*(g+n)-n,P=m*(_+n)-n;for(let t=u;t<u+m&&t<p;++t)y[t]===I&&(y[t]=O),-1===w&&(E=O,w=e+s,C=O+L+n,b=e+s),E>O&&(E=O,w=e+s),C<O+L+n&&(C=O+L+n,b=e+s),y[t]=Math.min(y[t],O),z[t]=Math.max(z[t],O+L+n);i.rect={[l]:O,[c]:x,[h]:L,[a]:P}}if(S=Math.max(...z),0===e)if(o){v=S;for(let t=0;t<p;++t)y[t]!==I&&(v=Math.min(y[t]+S-z[t],v))}else v=0}for(let t=0;t<p;++t)y[t]===I&&(y[t]=Math.max(...y),z[t]=y[t]);const O=s?y:z,x=0===e.length?0:Math[s?"max":"min"](...e);let L=s?0:S;if(o&&e.length===p){L=-I;for(let t=0;t<p;++t)y[t]!==z[t]&&(L=Math.min(O[t]+x-e[t],L))}for(let t=0;t<p;++t)y[t]+=x-L,z[t]+=x-L;return t.forEach(t=>{t.rect[l]+=x-L}),{start:y,end:z,startIndex:w,endIndex:b}}_insert(t,e,s){const i=t.map(t=>Object.assign({},t));return{items:i,outlines:this._layout(i,e,s)}}layout(t,e){const s=t.length;let i=e;for(let e=0;e<s;++e){const s=t[e];i=this._layout(s.items,i,f),s.outlines=i,i=i.end}return this}setSize(t){return this._size=t,this}append(t,e){return this._insert(t,e,f)}prepend(t,e){return this._insert(t,e,m)}};function ft(t){if(t.column)return t.column;let e=0;if(t.el){const s=t.el.dataset;e=s?s.column||1:t.el.getAttribute("column")||1}else e=1;return t.column=e,e}var mt=class extends pt{_checkItemSize(){const t=this.options.column;if(!t)return void super._checkItemSize();const e=this.options.margin;this._itemSize=(this._size+e)/t-e}_layout(t,e=[],s){const i=this._getItemSize(),r=this.options.margin,n=this.options.column||parseInt((this._size+r)/(i+r),10)||1,o=t.length,h=function(t,e,s,i){const r=Math[i?"min":"max"](...t)||0;return t.length!==s?U(new Array(s),0):t.map(t=>parseInt((t-r)/e,10))}(e,i,n,s),a=s?"min":"max",l=[],c=s?1:-1,u=this._style,d=u.pos1,_=u.pos2;for(let e=0;e<o;++e){const i=Math[a](...h);let r=h[s?"indexOf":"lastIndexOf"](i);const o=t[e],u=o.columnWidth,g=u&&u[0]===n&&u[1]||ft(o);let p=1;if(g>1){for(let t=1;t<g&&(s&&r+t<n||!s&&r-t>=0)&&(s&&h[r+c*t]<=i||!s&&h[r+c*t]>=i);++t)++p;s||(r-=p-1)}o.columnWidth=[n,p],l.push({width:p,height:p,[d]:i-(s?0:p),[_]:r,index:e});for(let t=0;t<p;++t)h[r+t]=i+c*p}this._shapes={shapes:l,[u.size2]:n};const g=super._layout(t,e,s);if(!s){const e=t[t.length-1];l.sort((t,e)=>{const s=t[d],i=t[_],r=e[d],n=e[_];return s-r?s-r:i-n}),t.sort((t,e)=>{const s=t.rect[d],i=t.rect[_],r=e.rect[d],n=e.rect[_];return s-r?s-r:i-n}),g.startIndex=0,g.endIndex=t.indexOf(e)}return g}},yt=s(0),zt=s.n(yt);function vt(t,e){let s=t/e;return s<1&&(s=1/s),s-1}var St=class{constructor(t={}){this.options=D({aspectRatio:1,sizeWeight:1,ratioWeight:1},t),this._size=0,this._style=X(this.options.horizontal)}_findBestFitArea(t,e){if(0===t.getRatio())return t.setOriginWidth(e.getWidth()),t.setOriginHeight(e.getHeight()),t.setWidth(e.getWidth()),void t.setHeight(e.getHeight());let s=null,i=1e7,r=!1;const n={width:0,height:0},o={width:0,height:0},{sizeWeight:h,ratioWeight:a}=this.options;t.innerItem().forEach(t=>{const l=vt(t.getOriginSize(),t.getSize())*h,c=vt(t.getOriginRatio(),t.getRatio())*a;let u;for(let d=0;d<2;++d){let _,g,p,f;0===d?(_=t.getWidth(),g=t.getHeight()*(e.getHeight()/(t.getOriginHeight()+e.getHeight())),p=t.getWidth(),f=t.getHeight()-g):(g=t.getHeight(),_=t.getWidth()*(e.getWidth()/(t.getOriginWidth()+e.getWidth())),f=t.getHeight(),p=t.getWidth()-_);const m=_*g,y=_/g,z=p*f,v=f/f;u=vt(e.getSize(),m)*h,u+=vt(e.getRatio(),y)*a,u+=vt(t.getOriginSize(),z)*h-l,(u+=vt(t.getOriginRatio(),v)*a-c)===Math.min(u,i)&&(i=u,s=t,r=0===d,n.width=_,n.height=g,o.width=p,o.height=f)}}),function(t,e,s,i,r){t.setHeight(s.height),t.setWidth(s.width),e.setHeight(i.height),e.setWidth(i.width),r?(t.setTop(e.getTop()+e.getHeight()),t.setLeft(e.getLeft())):(t.setLeft(e.getLeft()+e.getWidth()),t.setTop(e.getTop()))}(e,s,n,o,r)}_layout(t,e=[],s){const i=this._style,r=this.options.horizontal,n=this.options.aspectRatio,o=this.options.margin,h=i.pos1,a=i.size1,l=this._size*(r?n:1),c=this._size/(r?1:n),u=r?l:c,d=function(t){return t&&t.length?t:[0]}(e),_=s?Math.max(...d):Math.min(...d)-u-o,g=_+u+o,p=new zt.a({});let f=-1,m=-1,y=-1,z=-1;return t.forEach(t=>{const e=new zt.a({originWidth:t.orgSize.width,originHeight:t.orgSize.height,width:t.orgSize.width,height:t.orgSize.height});this._findBestFitArea(p,e),p.pushItem(e),p.scaleTo(l+o,c+o)}),t.forEach((t,e)=>{const s=p.innerItem()[e],i=s.getWidth(),r=s.getHeight(),n=s.getTop(),l=s.getLeft();t.rect={top:n,left:l,width:i-o,height:r-o},t.rect[h]+=_,-1===f&&(f=e,m=e,y=t.rect[h],z=y),y>t.rect[h]&&(y=t.rect[h],f=e),z<t.rect[h]+t.rect[a]+o&&(z=t.rect[h]+t.rect[a]+o,m=e)}),{start:[_],end:[g],startIndex:f,endIndex:m}}_insert(t=[],e=[],s){const i=t.map(t=>Object.assign({},t));return{items:i,outlines:this._layout(i,e,s)}}append(t,e){return this._insert(t,e,f)}prepend(t,e){return this._insert(t,e,m)}layout(t=[],e=[]){const s=t.length;let i=e;for(let e=0;e<s;++e){const s=t[e];i=this._layout(s.items,i,f),s.outlines=i,i=i.end}return this}setSize(t){return this._size=t,this}},wt=s(1),bt=s.n(wt);var Et=class{constructor(t={}){this.options=D({minSize:0,maxSize:0,column:[1,8]},t),this._style=X(this.options.horizontal),this._size=0}_layout(t,e,s){const i=this._style,r=i.size1,n=i.size2,o=t.length;let h=this.options.column;"object"!=typeof h&&(h=[h,h]);const a=bt.a.find_path(e=>{const s={},i=+e.replace(/[^0-9]/g,""),a=o+1;for(let e=Math.min(i+h[0],a-1);e<a&&!(e-i>h[1]);++e){let o=this._getCost(t,i,e,r,n);o<0&&e===a-1&&(o=0),null!==o&&(s[`node${e}`]=Math.pow(o,2))}return s},"node0",`node${o}`);return this._setStyle(t,a,e,s)}_getSize(t,e,s){const i=this.options.margin,r=t.reduce((t,i)=>t+i.size[s]/i.size[e],0);return(this._size-i*(t.length-1))/r}_getCost(t,e,s,i,r){const n=this._getSize(t.slice(e,s),i,r),o=this.options.minSize||0,h=this.options.maxSize||1/0;return isFinite(h)?n<o?Math.pow(n-o,2)+Math.pow(h,2):n>h?Math.pow(n-h,2)+Math.pow(h,2):Math.min(n-h,o-n):n<o?Math.max(Math.pow(o,2),Math.pow(n,2)):n-o}_setStyle(t,e,s=[],i){const r=this._style,n=r.pos1,o=r.size1,h=r.pos2,a=r.size2,l=e.length,c=this.options.margin,u=s[0]||0;let d=u,_=0;for(let s=0;s<l-1;++s){const i=parseInt(e[s].replace("node",""),10),r=parseInt(e[s+1].replace("node",""),10),l=t.slice(i,r),g=l.length,p=this._getSize(l,o,a),f=d;for(let t=0;t<g;++t){const e=l[t],s=e.size[a]/e.size[o]*p,i=0===t?0:l[t-1].rect,r=i?i[h]+i[a]+c:0;e.rect={[n]:f,[h]:r,[o]:p,[a]:s}}d=u+(_+=c+p)}const g=t.length,p=g?0:-1,f=g?g-1:-1;if(i)return{start:[u],end:[d],startIndex:p,endIndex:f};for(let e=0;e<g;++e)t[e].rect[n]-=_;return{start:[u-_],end:[u],startIndex:p,endIndex:f}}_insert(t,e,s){const i=t.map(t=>Object.assign({},t));return{items:i,outlines:this._layout(i,e,s)}}setSize(t){return this._size=t,this}append(t,e){return this._insert(t,e,f)}prepend(t,e){return this._insert(t,e,m)}layout(t,e){const s=t.length;let i=e;for(let e=0;e<s;++e){const s=t[e];i=this._layout(s.items,i,f),s.outlines=i,i=i.end}return this}},It=at;var Ct=function(t,e,s,i,r,n,o,h){var a=typeof(t=t||{}).default;"object"!==a&&"function"!==a||(t=t.default);var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId=n),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=h?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}({name:"vue-infinite-grid",props:{customCssClass:{type:[String,Array]},layout:{type:[String,Object]},layoutConfig:{type:Object},tag:{type:String},size:{type:Number},outline:{type:Array},options:{type:Object},horizontal:{type:Boolean},isEqualSize:{type:Boolean},isOverflowScroll:{type:Boolean}},data:function(){return{id:Math.random().toString(36).substr(2,10)}},mounted:function(){var t=this,e=new It(t.$el,{isOverflowScroll:t.isOverflowScroll,size:t.size,tag:t.tag,horizontal:t.horizontal,isEqualSize:t.isEqualSize});this.$nextTick(function(){e.setLayout(Et,{margin:t.layoutConfig.margin})})},computed:{gridId:function(){return"grid_"+this.id},gridType:function(){return"JustifiedLayout"===this.layout?Et:"FrameLayout"===this.layout?pt:"SquareLayout"===this.layout?mt:"PackingLayout"===this.layout?St:_t}}},function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vue-infinite-grid",class:this.customCssClass,attrs:{id:this.gridId}},[this._t("default")],2)},[],!1,null,null,null).exports;e.default=Ct}])});
//# sourceMappingURL=index.js.map